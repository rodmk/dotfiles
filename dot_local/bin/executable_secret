#!/bin/bash
set -e

case "${1:-}" in
    github-ssh) op read "op://Development/GitHub SSH Key/private key?ssh-format=openssh" ;;
    gemini-api) op read "op://Development/Gemini API/token" ;;
    hcloud)     op read "op://Development/Hetzner API/token" ;;
    op-sa)
        if [ -n "$OP_SERVICE_ACCOUNT_TOKEN" ]; then
            echo "$OP_SERVICE_ACCOUNT_TOKEN"
        else
            op read "op://Private/Development SA Token/credential"
        fi
        ;;
    *)
        echo "Usage: secret {github-ssh|gemini-api|hcloud|op-sa}" >&2
        exit 1
        ;;
esac
