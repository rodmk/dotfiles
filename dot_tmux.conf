# Prefix key: Ctrl-a instead of Ctrl-b
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# Mouse support
set -g mouse on

# OSC 52 clipboard â€” tmux's built-in sender is broken over mosh, so
# copy-pipe writes OSC 52 directly to the client TTY as a workaround.
set -g set-clipboard on
bind -T copy-mode MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel 'printf "\033]52;c;$(base64)\a" > #{client_tty}'
bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel 'printf "\033]52;c;$(base64)\a" > #{client_tty}'

# Window/pane indexing starts at 1
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

# Easier split bindings (visual mnemonics)
bind | split-window -h -c "#{pane_current_path}"
bind \\ split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
bind _ split-window -v -c "#{pane_current_path}"

# Reload config with Ctrl-a r
bind r source-file ~/.tmux.conf \; display "Config reloaded"

# Quality of life
set -g history-limit 10000
set -g display-time 2000

# True color (24-bit) support
set -g default-terminal "tmux-256color"
set -as terminal-features ",xterm-256color:256:RGB:strikethrough:usstyle"
